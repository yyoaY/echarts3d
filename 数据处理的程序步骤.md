**数据处理的程序步骤**

 

程序路径：D:\访学项目数据等\csv2arr-master2

功能1：下载指定文件 [file:///D:/%E8%AE%BF%E5%AD%A6%E9%A1%B9%E7%9B%AE%E6%95%B0%E6%8D%AE%E7%AD%89/csv2arr-master2/download.html](file:///D:\%E8%AE%BF%E5%AD%A6%E9%A1%B9%E7%9B%AE%E6%95%B0%E6%8D%AE%E7%AD%89\csv2arr-master2\download.html)

![img](file:///C:\Users\84424\AppData\Local\Temp\ksohtml1868\wps1.jpg) 

可以连续下载指定某小时内的4个压缩包文件

之后需要手工解压

 

功能2：选择某下载解压后的csv文件，可提取、计算，并转换为特定格式的json文件（核心功能）

 

[file:///D:/%E8%AE%BF%E5%AD%A6%E9%A1%B9%E7%9B%AE%E6%95%B0%E6%8D%AE%E7%AD%89/csv2arr-master2/demo10.html](file:///D:\%E8%AE%BF%E5%AD%A6%E9%A1%B9%E7%9B%AE%E6%95%B0%E6%8D%AE%E7%AD%89\csv2arr-master2\demo10.html)

 

![img](file:///C:\Users\84424\AppData\Local\Temp\ksohtml1868\wps2.jpg) 

 

如文件名为data文件夹中的20190301000000.translation.gkg.csv，转换后的文件为201903010000.json

 

功能3:将1小时内特定的4个json格式文件中的数据合并计算后，生成一个新的json格式文件

D:\访学项目数据等\csv2arr-master2\merge3.html

说明：不能用谷歌浏览器直接运行，可通过webstorm或火狐等运行

 

举例：合并前的4个文件

ile1="./data/201903010000.json";

file2="./data/201903010015.json";

file3="./data/201903010030.json";

file4="./data/201903010045.json";

 

合并后生成一个新文件：

D:\访学项目数据等\csv2arr-master2\data\2019030100.json

其中统计的是2019年3月1日0点的4个文件的总数据

 

功能4：将不同时间的数据合并到一个总的json格式文件中（不需要合并计算data），只增加时间轴数组中的时间节点数据

D:\访学项目数据等\csv2arr-master2\merge2.html

说明：不能用谷歌浏览器直接运行，可通过webstorm或火狐等运行

举例：合并前的4个文件

ile1="./data/201903010000.json";

file2="./data/201903010015.json";

file3="./data/201903010030.json";

file4="./data/201903010045.json";

 

合并后生成一个新文件：

merge2.json

 

目前进展：能分别计算及合成1个小时内4个文件

下一步计划：（1）能分别计算及合成1天内96个文件（2）以1天的计算流程为基础，拓展到1个星期、1个月、1个季度、1年等

难点：文件数量多，尚未实现自动加载、计算及合成的功能

 

计算及合成1天数据的主要环节：

（1）选择年、月、日后，自动下载当天96个压缩文件（需提前指定浏览器默认的下载保存路径，并设置为不需要询问）——已实现（download2.html）

![img](file:///C:\Users\84424\AppData\Local\Temp\ksohtml1868\wps3.jpg) 

下载后可一次性解压96个压缩文件为csv格式文件（保存在data文件夹中），并删除压缩包

（2）将96个csv格式文件通过demo程序转换为json格式文件（难点：目前只能手工选择一个一个转换，如何通过程序批量自动选择及转换？）

（3）将转换好的96个json格式文件进行合并计算（难点：如何从4个文件的合并拓展到96个文件的合并）

 

 

 

 